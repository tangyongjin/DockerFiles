###
### AS 63602 - nat2
### 

### Define inbound filter
filter nat2_63602_in
    int  cus_as;
    pair send_all_1_63602;          #1:63602
    pair sohu_cdn;                  #65510:10
    pair iqiyi_cdn;                 #65513:10
    pair leshi_gslb;                #58548:10
    pair tencent_video_gslb;        #45090:10
    pair weixin_gslb;               #45090:20
    # pair cctv_gslb;                 #55957:10

  {   
    cus_as = 63602;
    send_all_1_63602=( 1,myas );  
    sohu_cdn = ( 65510,10 );           
    iqiyi_cdn = ( 65513,10 ); 
    leshi_gslb = ( 58548,10 );      
    tencent_video_gslb = ( 45090,10 );  
    weixin_gslb = ( 45090,20 );  
    # cctv_gslb = ( 55957,10 );  

    # reject martians && cnix_route 
      if (( in_martians() ) || ( in_cnix_route() )) then {
        reject;
         }
    # leshi_gslb
      if ( net ~ [36.110.148.168/32,36.110.148.169/32,36.110.148.170/32,36.110.223.2/32,36.110.223.3/32,36.110.223.4/32,36.110.223.5/32,36.110.223.6/32,36.110.223.7/32,36.110.223.8/32,36.110.223.18/32,106.38.226.227/32,106.38.226.230/32,106.39.244.4/32,111.206.208.116/32,111.206.208.242/32,111.206.211.177/32,111.206.211.178/32,111.206.211.179/32,111.206.211.186/32,111.206.211.198/32,111.206.211.206/32,111.206.211.208/32,111.206.211.224/32,111.206.211.240/32,111.206.212.203/32,111.206.212.204/32,111.206.212.205/32,111.206.212.206/32,111.206.212.207/32,111.206.212.208/32,114.80.215.45/32,115.182.51.55/32,115.182.63.12/32,115.182.63.225/32,115.182.63.226/32,115.182.92.126/32,115.182.92.127/32,115.182.93.11/32,115.182.93.183/32,117.121.2.208/32,117.121.2.219/32,117.121.2.246/32,117.121.54.219/32,119.84.32.197/32,120.132.121.26/32,120.132.121.27/32,120.132.121.28/32,120.132.121.29/32,120.132.121.30/32,120.132.121.31/32,120.132.121.32/32,120.132.121.33/32,120.132.121.34/32,120.132.121.36/32,120.132.121.37/32,120.132.121.38/32,123.59.123.191/32,123.59.123.200/32,123.59.123.231/32,123.59.123.232/32,123.59.123.243/32,123.59.234.81/32,123.59.234.82/32,123.59.234.83/32,123.59.234.84/32,123.59.234.85/32,123.59.234.86/32,123.59.234.87/32,123.59.234.88/32,123.59.234.89/32,123.59.234.90/32,123.59.234.91/32,123.59.234.92/32,123.59.235.107/32,123.59.235.108/32,123.59.235.109/32,123.59.235.110/32,123.59.235.111/32,123.59.235.112/32,123.59.235.113/32,123.59.235.114/32,123.59.236.207/32,123.125.36.228/32,123.125.36.229/32,123.125.36.230/32,123.125.36.231/32,123.125.36.232/32,123.125.36.233/32,123.125.36.234/32,123.125.36.235/32,123.125.36.236/32,123.125.36.250/32,123.125.36.251/32,123.125.36.252/32,123.125.89.132/32,123.126.32.73/32,123.126.32.225/32,123.126.32.236/32,123.126.32.240/32,138.19.239.226/32,138.19.239.230/32,220.181.1.249/32,220.181.117.217/32,220.181.117.218/32,220.181.117.234/32,220.181.117.237/32,220.181.117.246/32,220.181.153.5/32,220.181.153.6/32,220.181.153.7/32,220.181.153.8/32,220.181.153.9/32,220.181.153.32/32,220.181.153.177/32,220.181.153.238/32,220.181.153.240/32,220.181.153.241/32,220.181.153.242/32,220.181.155.3/32,220.181.155.179/32] ) then {
        bgp_local_pref=10;
        bgp_community.add(leshi_gslb);
        bgp_next_hop = 103.216.40.7;
        accept;
         }
    # iqiyi_cdn
      if ( net ~ [ 36.110.134.196/32,36.110.220.15/32,36.110.220.16/32,36.110.220.34/32,36.110.220.130/32,36.110.220.131/32,36.110.220.215/32,36.110.220.216/32,36.110.238.74/32,38.83.107.76/32,38.83.107.77/32,38.83.107.86/32,38.123.97.162/32,42.236.19.157/32,42.236.19.158/32,42.236.19.159/32,42.236.19.208/32,42.236.19.209/32,42.236.19.210/32,42.236.19.211/32,42.236.19.212/32,42.236.19.213/32,42.236.19.214/32,42.236.19.215/32,43.247.220.74/32,43.247.220.76/32,43.247.221.9/32,43.247.221.10/32,58.205.196.16/32,58.205.196.17/32,58.215.125.47/32,58.215.125.48/32,58.215.125.49/32,58.215.125.50/32,58.215.125.51/32,58.215.125.52/32,58.215.125.53/32,58.215.125.54/32,58.215.125.55/32,58.215.125.56/32,58.215.125.57/32,58.215.125.58/32,58.215.125.59/32,58.215.125.60/32,58.215.125.61/32,58.215.125.62/32,58.215.126.90/32,58.215.126.91/32,58.215.126.92/32,58.215.126.93/32,58.215.126.146/32,58.215.126.147/32,58.215.126.148/32,58.215.126.149/32,59.38.101.33/32,59.38.101.34/32,59.38.101.35/32,59.38.101.36/32,59.38.101.37/32,59.38.101.38/32,59.38.101.39/32,59.38.101.40/32,59.38.101.41/32,59.38.101.42/32,59.38.101.57/32,60.217.240.18/32,60.217.240.19/32,60.217.248.34/32,60.217.248.40/32,60.217.248.45/32,61.135.177.195/32,61.135.177.196/32,64.77.231.45/32,64.77.231.46/32,101.227.12.9/32,101.227.12.100/32,101.227.12.146/32,101.227.12.147/32,101.227.14.151/32,101.227.14.152/32,101.227.14.153/32,101.227.14.154/32,101.227.14.155/32,101.227.14.156/32,101.227.14.157/32,101.227.14.158/32,101.227.14.159/32,101.227.14.160/32,101.227.14.161/32,101.227.14.162/32,101.227.14.163/32,101.227.14.164/32,101.227.14.165/32,101.227.14.166/32,101.227.14.167/32,101.227.14.168/32,101.227.14.169/32,101.227.14.170/32,101.227.14.171/32,101.227.14.172/32,101.227.14.173/32,101.227.14.174/32,101.227.14.175/32,101.227.14.176/32,101.227.14.177/32,101.227.14.178/32,101.227.14.179/32,101.227.14.180/32,101.227.14.181/32,101.227.14.182/32,101.227.14.183/32,101.227.14.184/32,101.227.14.185/32,101.227.14.186/32,101.227.14.187/32,101.227.14.188/32,101.227.14.189/32,101.227.14.190/32,101.227.14.191/32,101.227.14.192/32,101.227.14.193/32,101.227.14.194/32,101.227.14.195/32,101.227.14.196/32,101.227.14.197/32,101.227.14.198/32,101.227.14.199/32,101.227.14.200/32,101.227.14.201/32,101.227.14.202/32,101.227.14.203/32,101.227.14.204/32,101.227.14.205/32,101.227.14.206/32,101.227.14.207/32,101.227.14.208/32,101.227.14.209/32,101.227.14.210/32,101.227.20.130/32,101.227.20.131/32,101.227.20.132/32,101.227.20.133/32,101.227.22.7/32,101.227.22.8/32,101.227.22.9/32,101.227.22.10/32,101.227.22.11/32,101.227.22.12/32,101.227.22.13/32,101.227.22.14/32,101.227.22.15/32,101.227.22.16/32,101.227.22.17/32,101.227.22.18/32,101.227.22.19/32,101.227.22.20/32,101.227.22.21/32,101.227.22.22/32,101.227.22.23/32,101.227.22.24/32,101.227.22.25/32,101.227.22.26/32,101.227.22.27/32,101.227.22.28/32,101.227.22.29/32,101.227.22.30/32,101.227.22.31/32,101.227.22.32/32,101.227.22.33/32,101.227.22.34/32,101.227.22.35/32,101.227.22.36/32,101.227.22.37/32,101.227.22.38/32,101.227.32.6/32,101.227.32.12/32,101.227.32.13/32,101.227.32.30/32,101.227.32.31/32,101.227.32.33/32,101.227.32.34/32,101.227.32.35/32,101.227.32.36/32,101.227.32.39/32,101.227.32.53/32,101.227.32.54/32,101.227.188.198/32,101.227.188.199/32,101.227.199.89/32,101.227.199.199/32,101.227.199.200/32,101.227.199.231/32,101.227.199.232/32,101.227.199.233/32,101.227.200.22/32,101.227.200.133/32,101.227.200.134/32,101.227.200.135/32,101.227.200.136/32,101.227.200.137/32,101.227.200.138/32,101.227.200.139/32,101.227.200.140/32,101.227.200.141/32,101.227.200.142/32,101.227.200.156/32,101.227.200.157/32,101.227.201.34/32,101.227.201.35/32,101.227.201.36/32,101.227.201.37/32,101.227.201.38/32,101.227.201.39/32,101.227.201.40/32,101.227.201.41/32,101.227.201.42/32,101.227.201.43/32,101.227.201.44/32,101.227.201.45/32,101.227.201.46/32,101.227.201.47/32,101.227.201.48/32,101.227.201.49/32,101.227.201.50/32,101.227.201.51/32,101.227.201.52/32,101.227.201.53/32,101.227.201.54/32,101.227.201.55/32,101.227.201.56/32,101.227.201.57/32,101.227.201.58/32,101.227.201.59/32,101.227.201.60/32,101.227.201.61/32,101.227.201.62/32,101.227.201.63/32,101.227.201.64/32,101.227.201.65/32,106.38.178.50/32,106.38.178.51/32,106.38.178.182/32,106.38.178.239/32,106.38.178.240/32,106.38.219.10/32,106.38.219.12/32,106.38.219.18/32,106.38.219.21/32,106.38.219.22/32,106.38.219.23/32,106.38.219.28/32,106.38.219.31/32,106.38.219.32/32,106.38.219.33/32,106.38.219.36/32,106.38.219.39/32,106.38.219.40/32,106.38.219.41/32,106.38.219.48/32,106.38.219.49/32,106.38.219.67/32,106.38.235.227/32,106.38.235.228/32,106.38.235.232/32,106.120.177.98/32,106.120.177.231/32,111.47.202.205/32,111.47.202.206/32,111.47.202.207/32,111.47.202.208/32,111.47.202.209/32,111.47.202.210/32,111.47.202.211/32,111.47.202.212/32,111.206.13.1/32,111.206.13.3/32,111.206.13.4/32,111.206.13.75/32,111.206.13.76/32,111.206.13.77/32,111.206.13.78/32,111.206.13.79/32,111.206.13.103/32,111.206.13.104/32,111.206.13.105/32,111.206.13.106/32,111.206.13.146/32,111.206.13.147/32,111.206.13.221/32,111.206.13.222/32,111.206.13.223/32,111.206.13.224/32,111.206.13.225/32,111.206.22.29/32,111.206.22.242/32,111.206.70.129/32,111.206.70.138/32,112.13.64.2/32,112.13.64.129/32,112.13.64.130/32,112.13.64.131/32,112.13.64.132/32,112.13.64.133/32,112.13.64.159/32,112.13.64.160/32,112.17.1.7/32,112.17.1.8/32,112.17.1.53/32,112.17.1.54/32,112.17.1.86/32,112.17.1.87/32,112.17.1.88/32,112.17.1.89/32,112.17.1.90/32,112.17.1.91/32,112.17.1.181/32,112.17.1.182/32,112.17.1.183/32,112.17.1.184/32,112.17.1.185/32,112.17.1.186/32,112.17.1.187/32,112.17.1.188/32,112.17.1.189/32,112.17.1.190/32,112.17.1.191/32,112.17.1.192/32,112.25.44.71/32,112.25.44.74/32,112.25.49.39/32,112.25.49.40/32,112.25.49.41/32,112.25.49.42/32,112.25.49.142/32,112.25.49.143/32,112.25.88.30/32,112.25.88.31/32,112.29.146.5/32,112.29.146.10/32,112.29.154.26/32,112.29.154.27/32,112.29.154.145/32,112.29.154.146/32,112.29.154.147/32,112.29.154.148/32,112.29.154.149/32,112.29.154.150/32,112.29.154.151/32,112.29.154.152/32,113.207.90.12/32,113.207.90.13/32,113.207.90.14/32,113.207.90.15/32,113.207.90.16/32,113.207.90.17/32,113.207.90.18/32,113.207.90.19/32,113.207.90.20/32,113.207.90.21/32,113.207.90.22/32,113.207.90.23/32,113.207.90.24/32,113.207.90.25/32,113.207.90.26/32,113.207.90.27/32,113.207.90.28/32,113.207.90.29/32,113.207.90.30/32,113.207.90.31/32,113.207.90.32/32,113.207.90.33/32,113.207.90.34/32,113.207.90.35/32,113.207.90.36/32,113.207.90.37/32,113.207.90.38/32,113.207.90.39/32,113.207.90.40/32,113.207.90.41/32,113.207.90.42/32,113.207.90.43/32,113.207.90.44/32,113.207.90.45/32,115.182.125.142/32,115.182.125.176/32,115.182.224.30/32,115.182.224.31/32,115.182.238.242/32,115.182.238.243/32,115.182.238.244/32,116.211.188.55/32,116.211.188.56/32,116.211.188.127/32,116.211.188.128/32,116.211.188.129/32,116.211.188.130/32,116.211.188.131/32,116.211.188.132/32,116.211.189.128/32,116.211.189.129/32,116.211.189.130/32,117.139.18.150/32,117.139.18.151/32,117.148.174.45/32,117.148.174.46/32,117.148.174.47/32,117.148.174.48/32,117.148.174.164/32,117.148.174.165/32,117.148.174.166/32,117.148.174.167/32,117.148.175.45/32,117.148.175.46/32,117.148.175.47/32,117.148.175.48/32,118.193.85.171/32,118.193.90.15/32,119.84.75.9/32,119.84.75.72/32,119.84.75.73/32,119.84.75.124/32,119.84.75.161/32,119.84.75.162/32,119.84.75.163/32,119.84.75.164/32,119.84.75.181/32,119.84.78.178/32,119.84.78.179/32,119.84.78.180/32,119.84.78.181/32,119.84.78.200/32,119.97.157.161/32,119.97.157.162/32,119.97.157.163/32,119.97.157.164/32,119.97.157.165/32,119.97.157.166/32,119.97.157.167/32,119.97.157.168/32,119.97.157.169/32,119.97.157.170/32,119.97.157.171/32,119.97.157.172/32,119.97.157.173/32,119.97.157.174/32,119.97.157.175/32,119.97.157.176/32,119.97.157.177/32,119.97.157.178/32,119.97.157.179/32,119.97.157.180/32,119.97.157.181/32,119.97.157.182/32,119.97.157.183/32,119.97.157.184/32,119.97.157.185/32,119.97.157.186/32,119.97.157.187/32,119.97.157.188/32,119.97.157.189/32,119.97.157.190/32,119.97.157.203/32,119.97.157.204/32,119.97.157.220/32,119.97.157.224/32,119.167.197.123/32,119.167.197.124/32,119.167.197.125/32,119.167.197.126/32,119.167.197.127/32,119.167.197.128/32,119.167.197.129/32,119.167.197.130/32,119.167.197.131/32,119.167.197.132/32,119.167.197.133/32,119.167.197.134/32,119.167.197.135/32,119.167.197.136/32,119.167.197.137/32,119.167.197.138/32,119.188.13.150/32,119.188.13.151/32,119.188.13.152/32,119.188.13.153/32,119.188.13.154/32,119.188.13.155/32,119.188.13.156/32,119.188.13.157/32,119.188.13.158/32,119.188.13.159/32,119.188.13.160/32,119.188.13.161/32,119.188.13.162/32,119.188.13.163/32,119.188.13.164/32,119.188.13.165/32,119.188.13.166/32,119.188.13.167/32,119.188.13.168/32,119.188.13.169/32,119.188.13.170/32,119.188.13.171/32,119.188.13.172/32,119.188.13.173/32,119.188.13.174/32,119.188.13.175/32,119.188.13.176/32,119.188.13.177/32,119.188.13.178/32,119.188.13.179/32,119.188.13.180/32,119.188.13.181/32,119.188.13.182/32,119.188.13.183/32,119.188.13.184/32,119.188.13.185/32,119.188.13.186/32,119.188.13.187/32,119.188.13.188/32,119.188.13.189/32,119.188.24.186/32,119.188.24.187/32,119.188.24.188/32,119.188.24.190/32,119.188.24.191/32,119.188.24.192/32,119.188.24.193/32,119.188.24.194/32,119.188.24.195/32,119.188.24.196/32,119.188.24.197/32,119.188.110.10/32,119.188.110.11/32,119.188.110.12/32,119.188.110.78/32,119.188.110.82/32,119.188.110.83/32,119.188.110.84/32,119.188.110.85/32,119.188.110.88/32,119.188.110.89/32,119.188.133.179/32,119.188.133.180/32,119.188.133.181/32,119.188.133.182/32,119.188.133.185/32,119.188.133.186/32,119.188.133.187/32,119.188.133.188/32,119.188.133.189/32,119.188.133.190/32,119.188.133.191/32,119.188.133.192/32,119.188.133.193/32,119.188.133.194/32,119.188.133.195/32,119.188.133.196/32,119.188.133.197/32,119.188.133.198/32,119.188.133.199/32,119.188.133.200/32,119.188.133.201/32,119.188.133.202/32,119.188.133.203/32,119.188.133.204/32,119.188.133.205/32,119.188.133.206/32,119.188.133.207/32,119.188.133.208/32,119.188.133.209/32,119.188.133.210/32,119.188.133.211/32,119.188.133.212/32,119.188.133.213/32,119.188.133.214/32,119.188.143.25/32,119.188.143.26/32,119.188.143.27/32,119.188.143.28/32,119.188.143.29/32,119.188.143.30/32,119.188.143.31/32,119.188.143.32/32,119.188.143.33/32,119.188.143.40/32,119.188.143.41/32,119.188.144.75/32,119.188.144.77/32,119.188.144.79/32,119.188.144.81/32,119.188.144.100/32,119.188.144.101/32,119.188.145.108/32,119.188.145.114/32,119.188.145.159/32,119.188.146.110/32,119.188.146.111/32,119.188.146.112/32,119.188.146.113/32,119.188.147.42/32,119.188.147.43/32,119.188.147.49/32,119.188.147.50/32,119.188.147.65/32,119.188.147.66/32,119.188.147.90/32,119.188.147.91/32,119.188.147.93/32,120.192.88.81/32,120.192.88.82/32,120.192.88.100/32,120.192.88.111/32,120.221.12.4/32,121.12.108.28/32,121.12.108.29/32,121.12.108.30/32,121.12.108.31/32,121.12.108.95/32,121.12.108.96/32,121.12.108.97/32,121.12.108.98/32,121.12.108.99/32,121.12.108.100/32,121.12.108.101/32,121.12.108.102/32,121.12.108.103/32,121.12.108.104/32,123.125.7.21/32,123.125.84.216/32,123.125.111.64/32,123.125.111.70/32,123.125.111.73/32,123.125.111.77/32,123.125.111.79/32,123.125.111.80/32,123.125.111.87/32,123.125.111.91/32,123.125.111.98/32,123.125.111.100/32,123.125.111.108/32,123.125.111.111/32,123.125.117.8/32,123.125.117.19/32,123.125.117.180/32,123.125.117.181/32,123.125.117.229/32,123.129.210.132/32,124.192.153.1/32,124.192.153.8/32,124.192.153.13/32,124.192.153.15/32,124.192.153.16/32,124.192.153.18/32,124.192.153.23/32,124.192.153.31/32,124.192.153.53/32,124.192.153.67/32,124.193.229.78/32,124.193.229.79/32,124.193.229.131/32,124.193.229.132/32,124.193.229.133/32,124.193.229.134/32,124.193.229.135/32,124.193.229.221/32,124.193.229.222/32,124.250.53.164/32,148.153.5.15/32,150.138.229.129/32,150.138.229.130/32,150.138.229.131/32,150.138.229.132/32,150.138.229.133/32,150.138.229.134/32,150.138.229.135/32,150.138.229.136/32,150.138.229.137/32,150.138.229.138/32,150.138.229.139/32,150.138.229.140/32,150.138.229.141/32,150.138.229.142/32,150.138.229.143/32,150.138.229.144/32,150.138.229.145/32,150.138.229.146/32,150.138.229.147/32,150.138.229.148/32,150.138.229.149/32,150.138.229.150/32,150.138.229.151/32,150.138.229.152/32,150.138.229.153/32,150.138.229.154/32,150.138.229.155/32,150.138.229.156/32,150.138.229.157/32,150.138.229.158/32,150.138.229.159/32,150.138.229.160/32,164.52.3.13/32,180.163.156.2/32,183.61.95.3/32,183.61.95.4/32,183.61.95.5/32,183.61.95.6/32,183.61.95.7/32,183.61.95.8/32,183.61.95.10/32,183.61.95.11/32,183.61.95.12/32,183.61.95.13/32,183.61.95.14/32,183.61.95.15/32,183.61.95.16/32,183.61.95.32/32,183.61.95.33/32,183.61.95.34/32,183.61.95.35/32,183.61.95.36/32,183.61.95.37/32,183.61.95.38/32,183.61.95.39/32,183.61.95.40/32,183.61.95.41/32,183.61.95.97/32,183.61.95.98/32,183.61.95.99/32,183.61.95.100/32,183.61.95.101/32,183.61.95.102/32,183.61.95.103/32,183.61.95.104/32,183.61.95.116/32,183.61.95.117/32,183.61.95.118/32,183.61.95.119/32,183.61.95.122/32,183.61.95.123/32,183.61.95.124/32,183.61.95.125/32,183.61.167.73/32,183.61.167.74/32,183.61.167.75/32,183.61.167.76/32,183.61.167.77/32,183.61.167.78/32,183.61.167.79/32,183.61.167.80/32,183.61.167.81/32,183.61.167.82/32,183.61.167.83/32,183.61.167.84/32,183.61.167.85/32,183.61.167.86/32,183.61.167.87/32,183.61.167.88/32,183.61.167.89/32,183.61.167.90/32,183.61.167.91/32,183.61.167.92/32,183.61.167.93/32,183.61.167.94/32,183.61.167.95/32,183.61.167.96/32,183.61.167.97/32,183.61.167.98/32,183.61.167.99/32,183.61.167.100/32,183.61.167.101/32,183.61.167.102/32,183.61.167.103/32,183.61.167.104/32,183.61.167.107/32,183.61.167.108/32,183.61.167.109/32,183.61.167.110/32,183.61.167.111/32,183.61.167.112/32,183.61.167.113/32,183.61.167.114/32,183.61.167.115/32,183.61.178.121/32,183.61.178.122/32,183.61.178.123/32,183.61.178.124/32,183.61.178.125/32,183.61.178.126/32,183.61.178.127/32,183.61.178.128/32,183.61.178.129/32,183.61.178.130/32,183.61.178.131/32,183.61.178.132/32,183.61.178.136/32,183.61.178.137/32,183.61.178.151/32,183.61.178.152/32,183.61.178.190/32,183.61.178.234/32,183.61.178.235/32,183.203.30.149/32,183.203.30.150/32,183.230.75.25/32,183.230.75.26/32,183.230.75.27/32,183.230.75.28/32,183.230.75.29/32,183.230.75.30/32,183.230.75.31/32,183.230.75.32/32,183.230.76.13/32,183.230.76.14/32,183.230.76.15/32,183.230.76.16/32,183.230.76.17/32,183.230.76.18/32,183.230.76.19/32,183.230.76.20/32,183.230.76.28/32,183.230.76.29/32,183.230.76.30/32,183.230.76.31/32,183.230.76.32/32,183.230.76.33/32,183.230.76.34/32,183.230.76.35/32,183.230.76.36/32,183.232.44.27/32,183.232.44.28/32,183.232.44.43/32,183.232.44.44/32,183.232.44.45/32,183.232.44.46/32,183.232.44.47/32,183.232.82.143/32,183.232.82.144/32,202.108.14.26/32,202.108.14.27/32,202.108.14.51/32,202.108.14.56/32,202.108.14.68/32,202.108.14.87/32,202.108.14.140/32,202.108.14.169/32,202.108.14.215/32,211.151.156.56/32,211.151.156.57/32,211.151.156.58/32,211.151.156.59/32,211.151.156.60/32,211.151.156.61/32,211.151.156.117/32,211.151.156.165/32,211.151.156.166/32,211.151.156.167/32,211.151.156.168/32,211.151.156.232/32,211.151.156.233/32,211.151.158.135/32,211.151.158.140/32,211.151.158.144/32,211.151.158.174/32,211.151.158.182/32,218.61.39.80/32,218.61.39.81/32,218.61.39.82/32,218.61.39.83/32,218.61.39.84/32,218.61.39.85/32,218.61.39.86/32,218.61.39.87/32,218.61.39.88/32,218.61.39.89/32,218.61.39.90/32,218.61.39.91/32,218.61.39.92/32,218.61.39.93/32,218.61.39.94/32,218.61.39.95/32,218.61.39.96/32,218.61.39.97/32,218.61.39.98/32,218.61.39.99/32,218.61.39.100/32,218.61.39.101/32,218.61.39.102/32,218.61.39.103/32,218.61.39.104/32,218.61.39.105/32,218.61.39.106/32,218.61.39.107/32,218.61.39.108/32,218.61.39.109/32,218.61.39.110/32,218.61.39.111/32,218.205.74.142/32,218.205.74.143/32,218.205.76.30/32,218.205.76.31/32,218.205.79.91/32,218.205.79.94/32,218.205.82.152/32,218.205.82.153/32,220.181.109.14/32,220.181.109.44/32,220.181.109.45/32,220.181.109.46/32,220.181.109.47/32,220.181.109.48/32,220.181.109.49/32,220.181.109.50/32,220.181.109.51/32,220.181.109.52/32,220.181.109.53/32,220.181.109.177/32,220.181.109.178/32,220.181.184.82/32,220.181.184.83/32,220.181.184.84/32,220.181.184.85/32,220.181.184.86/32,220.181.184.87/32,220.181.184.88/32,220.181.184.89/32,220.181.184.152/32,220.181.184.196/32,221.130.5.39/32,221.130.5.40/32,221.179.183.213/32,221.179.183.214/32,221.179.183.215/32,221.179.183.216/32,221.179.183.217/32,221.179.183.218/32,221.179.183.219/32,221.179.183.220/32,221.179.183.221/32,221.179.183.222/32,221.179.191.45/32,221.179.191.46/32,222.173.56.72/32,222.173.56.74/32,222.173.56.126/32,222.173.57.191/32,222.173.57.193/32,222.173.57.195/32,222.173.57.197/32,222.191.228.103/32,222.191.228.104/32,223.26.73.109/32,223.26.73.110/32,223.26.73.147/32,223.26.106.15/32,223.26.106.16/32,223.26.106.19/32,223.26.106.20/32,223.26.106.21/32,223.26.106.22/32,223.26.106.36/32,223.26.106.37/32,223.26.106.82/32,223.26.106.83/32,223.26.106.92/32,223.99.230.37/32,223.99.245.142/32,223.99.245.154/32,223.99.245.161/32,223.99.245.162/32,223.99.245.164/32,223.99.245.165/32,223.99.245.173/32,223.99.245.180/32,223.99.245.181/32,223.99.245.185/32,223.99.245.188/32,223.99.245.196/32,223.99.245.205/32,223.99.245.207/32,223.99.245.242/32,223.99.245.245/32,223.99.245.246/32,223.99.245.247/32,223.99.251.93/32,223.99.251.94/32,223.99.251.95/32,223.99.251.96/32,223.99.251.117/32,223.99.251.118/32,223.99.251.226/32,223.99.251.228/32,223.99.251.229/32,223.99.251.232/32,223.99.253.239/32 ] ) then {
        bgp_local_pref=10;
        bgp_community.add(iqiyi_cdn);
        bgp_next_hop = 103.216.40.7;
        accept;
         }
    # sohu_cdn
      if ( net ~ [ 1.202.198.123/32,1.202.198.124/32,60.28.168.231/32,60.28.168.232/32,60.28.168.233/32,61.135.145.26/32,61.135.145.27/32,61.135.176.65/32,61.135.176.66/32,61.135.176.207/32,61.135.176.219/32,61.135.176.222/32,61.135.176.223/32,61.135.176.224/32,61.135.176.225/32,61.135.177.69/32,61.135.177.70/32,61.135.178.0/24,61.135.181.236/32,61.135.183.1/32,61.135.183.4/32,61.135.183.6/32,61.135.183.10/32,61.135.183.14/32,61.135.183.19/32,61.135.183.42/32,61.135.183.43/32,61.135.183.45/32,61.135.183.46/32,61.135.183.47/32,61.135.183.48/32,61.135.183.49/32,61.135.183.50/32,61.135.183.54/32,61.135.183.62/32,61.135.183.63/32,61.135.183.95/32,61.135.183.100/32,61.135.183.104/32,61.135.183.107/32,61.135.183.108/32,61.135.183.116/32,61.135.183.128/32,61.135.183.131/32,61.135.183.229/32,101.227.173.54/32,101.227.173.55/32,101.227.173.61/32,101.227.173.62/32,101.227.173.63/32,111.13.123.132/32,111.13.123.146/32,111.13.123.147/32,111.13.123.148/32,111.13.123.150/32,111.13.123.151/32,111.13.123.152/32,114.80.179.66/32,114.247.42.60/32,115.25.217.131/32,115.25.217.132/32,119.97.129.27/32,119.97.129.29/32,121.46.19.90/32,121.46.19.91/32,121.46.19.92/32,123.125.116.232/32,123.125.116.236/32,123.125.122.51/32,123.125.122.52/32,123.125.122.53/32,123.125.122.85/32,123.125.122.86/32,123.125.122.87/32,123.125.122.90/32,123.125.122.120/32,123.125.122.121/32,123.125.122.174/32,123.125.122.176/32,123.125.122.177/32,123.125.122.178/32,123.125.122.179/32,123.125.122.226/32,123.125.122.227/32,123.125.123.16/32,123.125.123.17/32,123.125.123.18/32,123.125.123.19/32,123.125.123.33/32,123.125.123.34/32,123.125.123.35/32,123.125.123.36/32,123.125.123.37/32,123.125.123.38/32,123.125.123.39/32,123.125.123.40/32,123.125.123.41/32,123.125.123.42/32,123.125.123.55/32,123.125.123.56/32,123.125.123.57/32,123.125.123.80/32,123.125.123.81/32,123.125.123.82/32,123.125.123.181/32,123.125.123.182/32,123.125.123.211/32,123.125.123.212/32,123.126.48.16/32,123.126.48.46/32,123.126.48.47/32,123.126.48.48/32,123.126.48.94/32,123.126.48.95/32,123.126.104.39/32,123.126.104.40/32,123.126.104.46/32,123.126.104.47/32,123.126.104.48/32,123.126.104.49/32,123.126.104.50/32,123.126.104.64/32,123.126.104.77/32,123.126.104.161/32,123.126.104.162/32,123.126.104.163/32,123.126.104.164/32,123.126.104.165/32,123.126.104.179/32,123.126.104.181/32,123.126.104.189/32,123.126.104.190/32,123.126.104.211/32,123.126.104.212/32,123.126.104.223/32,123.126.104.224/32,123.126.104.241/32,124.202.165.201/32,202.106.180.62/32,219.142.100.125/32,219.238.10.34/32,220.181.2.37/32,220.181.2.38/32,220.181.2.39/32,220.181.2.48/32,220.181.2.67/32,220.181.2.164/32,220.181.2.188/32,220.181.2.211/32,220.181.2.212/32,220.181.11.40/32,220.181.11.41/32,220.181.11.74/32,220.181.11.76/32,220.181.11.143/32,220.181.11.144/32,220.181.11.232/32,220.181.11.233/32,220.181.19.213/32,220.181.19.218/32,220.181.19.241/32,220.181.20.7/32,220.181.20.45/32,220.181.26.79/32,220.181.26.82/32,220.181.61.4/32,220.181.61.9/32,220.181.61.11/32,220.181.61.12/32,220.181.61.13/32,220.181.61.14/32,220.181.61.15/32,220.181.61.19/32,220.181.61.41/32,220.181.61.42/32,220.181.61.44/32,220.181.61.45/32,220.181.61.102/32,220.181.61.105/32,220.181.61.150/32,220.181.61.151/32,220.181.61.152/32,220.181.61.153/32,220.181.61.154/32,220.181.61.155/32,220.181.61.156/32,220.181.61.170/32,220.181.61.171/32,220.181.61.172/32,220.181.61.196/32,220.181.61.197/32,220.181.61.198/32,220.181.61.205/32,220.181.61.207/32,220.181.61.209/32,220.181.61.210/32,220.181.61.211/32,220.181.61.212/32,220.181.61.213/32,220.181.61.216/32,220.181.61.218/32,220.181.61.222/32,220.181.61.224/32,220.181.61.228/32,220.181.61.229/32,220.181.61.230/32,220.181.61.234/32,220.181.61.236/32,220.181.61.240/32,220.181.69.66/32,220.181.69.67/32,220.181.69.68/32,220.181.69.69/32,220.181.69.71/32,220.181.69.74/32,220.181.69.85/32,220.181.69.130/32,220.181.89.54/32,220.181.89.55/32,220.181.89.69/32,220.181.89.72/32,220.181.89.73/32,220.181.89.74/32,220.181.89.75/32,220.181.89.76/32,220.181.89.87/32,220.181.89.88/32,220.181.89.113/32,220.181.90.43/32,220.181.90.44/32,220.181.90.68/32,220.181.90.69/32,220.181.90.70/32,220.181.90.71/32,220.181.90.72/32,220.181.90.73/32,220.181.90.74/32,220.181.90.75/32,220.181.90.76/32,220.181.90.77/32,220.181.90.78/32,220.181.90.79/32,220.181.90.80/32,220.181.90.95/32,220.181.90.102/32,220.181.90.192/32,220.181.90.193/32,220.181.90.194/32,220.181.90.197/32,220.181.90.198/32,220.181.90.199/32,220.181.90.200/32,220.181.90.202/32,220.181.90.203/32,220.181.90.204/32,220.181.90.211/32,220.181.118.25/32,220.181.118.33/32,220.181.118.35/32,220.181.118.51/32,220.181.118.52/32,220.181.118.53/32,220.181.118.55/32,220.181.118.56/32,220.181.118.57/32,220.181.118.60/32,220.181.118.64/32,220.181.118.113/32,220.181.118.126/32,220.181.118.135/32,220.181.118.148/32,220.181.118.178/32,220.181.118.180/32,220.181.118.181/32,220.181.119.37/32,220.181.169.130/32,221.130.27.1/32,221.130.27.2/32,221.130.189.132/32,222.35.250.174/32,222.35.250.176/32,222.35.250.186/32,222.35.250.200/32] ) then {
        bgp_local_pref=10;
        bgp_community.add(sohu_cdn);
        bgp_next_hop = 103.216.40.7;
        accept;
         }
    # tencent_video_gslb
      if ( net ~ [ 14.17.32.208/32,14.17.32.223/32,14.17.32.228/32,14.17.32.229/32,14.17.32.240/32,14.17.32.252/32,14.17.41.140/32,14.17.41.177/32,14.17.42.26/32,14.17.42.123/32,14.17.52.179/32,14.17.57.148/32,14.17.57.171/32,14.17.57.227/32,14.18.245.166/32,14.18.245.179/32,14.18.245.202/32,14.18.245.213/32,14.18.245.217/32,14.18.245.218/32,14.18.245.219/32,14.18.245.220/32,14.215.138.23/32,14.215.140.102/32,14.215.173.5/32,14.215.173.6/32,58.246.220.139/32,58.246.220.140/32,58.246.220.142/32,58.246.220.143/32,58.246.220.144/32,58.246.221.51/32,58.247.206.178/32,58.250.9.31/32,58.250.9.114/32,58.250.136.114/32,58.251.83.143/32,58.251.106.167/32,58.251.106.168/32,58.251.106.169/32,58.251.139.189/32,58.251.139.196/32,59.37.96.188/32,59.37.96.189/32,59.37.96.190/32,59.37.96.240/32,59.37.97.21/32,59.37.116.28/32,59.37.116.105/32,61.135.157.174/32,61.151.186.103/32,61.151.191.139/32,61.151.191.140/32,61.151.191.141/32,61.151.191.142/32,61.151.191.144/32,61.151.224.26/32,101.226.68.67/32,101.226.129.212/32,101.226.129.231/32,101.226.225.139/32,101.226.225.140/32,101.226.225.141/32,101.226.225.142/32,101.226.225.143/32,101.226.225.144/32,101.226.225.145/32,101.226.225.147/32,101.226.226.253/32,101.226.233.180/32,101.226.233.191/32,101.227.130.15/32,101.227.130.39/32,101.227.130.49/32,101.227.130.96/32,103.7.30.79/32,103.7.30.89/32,103.7.30.122/32,103.7.31.186/32,103.7.31.188/32,111.30.128.142/32,111.30.128.146/32,111.30.128.148/32,111.30.128.159/32,111.30.131.29/32,111.30.131.71/32,111.30.132.21/32,111.30.132.40/32,111.30.132.46/32,111.30.135.175/32,111.30.135.176/32,111.30.136.172/32,111.30.137.105/32,111.30.138.168/32,111.30.138.185/32,111.30.143.139/32,111.30.144.35/32,111.161.51.151/32,111.161.51.154/32,111.161.51.155/32,111.161.51.156/32,111.161.111.31/32,111.161.111.109/32,111.206.25.144/32,111.206.25.153/32,112.90.74.176/32,112.90.78.145/32,112.90.78.181/32,112.90.78.187/32,112.90.83.111/32,113.108.20.86/32,113.142.21.108/32,113.142.21.111/32,113.207.16.43/32,113.207.16.44/32,115.25.209.58/32,115.25.209.76/32,117.135.169.44/32,117.135.169.56/32,117.135.172.210/32,117.144.242.34/32,117.185.24.122/32,119.28.3.135/32,119.147.16.12/32,119.147.16.13/32,119.147.16.15/32,119.147.16.18/32,119.147.16.22/32,120.33.50.142/32,120.33.50.143/32,120.197.3.66/32,120.197.3.67/32,120.198.199.168/32,120.198.199.170/32,120.198.199.181/32,120.198.199.184/32,120.198.199.185/32,120.198.199.203/32,120.198.199.243/32,120.198.201.139/32,120.198.201.168/32,120.198.201.176/32,120.198.201.203/32,120.204.9.139/32,120.204.9.141/32,120.204.9.142/32,120.204.9.143/32,120.204.9.144/32,121.51.0.102/32,121.51.131.14/32,121.51.131.103/32,121.51.131.122/32,121.51.132.118/32,121.51.137.140/32,121.51.137.141/32,121.51.137.142/32,121.51.137.143/32,121.51.137.144/32,121.51.137.145/32,121.51.141.18/32,121.51.141.19/32,121.51.141.20/32,121.51.141.105/32,121.51.142.180/32,121.51.142.181/32,121.51.142.182/32,121.51.142.183/32,121.51.142.184/32,121.51.142.185/32,121.51.142.186/32,121.51.142.187/32,121.51.142.188/32,121.51.142.189/32,123.126.121.155/32,123.126.121.178/32,123.126.122.30/32,123.138.162.102/32,123.138.162.113/32,123.151.10.180/32,123.151.15.203/32,123.151.72.30/32,123.151.78.139/32,123.151.78.142/32,123.151.78.144/32,123.151.78.145/32,123.151.78.146/32,123.151.78.147/32,123.151.79.38/32,123.151.139.63/32,123.151.148.19/32,123.151.148.72/32,123.151.152.113/32,123.151.179.158/32,123.151.179.173/32,124.161.24.175/32,125.39.13.139/32,125.39.13.140/32,125.39.13.141/32,125.39.13.142/32,125.39.13.144/32,125.39.13.145/32,125.39.133.46/32,125.39.213.73/32,125.39.240.52/32,125.39.247.188/32,125.39.247.195/32,140.207.62.120/32,140.207.123.139/32,140.207.127.27/32,140.207.127.32/32,140.207.127.58/32,140.207.127.95/32,140.207.135.124/32,140.207.189.19/32,163.177.56.22/32,163.177.68.161/32,163.177.68.162/32,163.177.68.177/32,163.177.68.178/32,163.177.71.175/32,163.177.71.186/32,163.177.71.188/32,163.177.73.23/32,163.177.83.165/32,163.177.83.202/32,163.177.83.218/32,163.177.83.220/32,163.177.84.31/32,163.177.84.34/32,163.177.89.184/32,163.177.90.14/32,163.177.92.114/32,175.155.116.112/32,180.163.15.184/32,182.118.63.142/32,182.118.124.175/32,182.118.124.176/32,182.118.124.177/32,182.140.167.46/32,182.140.167.48/32,182.254.5.211/32,182.254.10.87/32,182.254.11.189/32,182.254.18.217/32,182.254.18.221/32,182.254.18.239/32,182.254.18.249/32,182.254.21.77/32,182.254.21.115/32,182.254.22.163/32,182.254.33.122/32,182.254.34.23/32,182.254.34.35/32,182.254.34.43/32,182.254.34.44/32,182.254.34.46/32,182.254.34.54/32,182.254.34.76/32,182.254.34.96/32,182.254.38.123/32,182.254.44.205/32,182.254.44.212/32,182.254.50.24/32,182.254.86.185/32,182.254.91.139/32,182.254.91.140/32,182.254.91.141/32,182.254.91.142/32,182.254.104.40/32,182.254.104.122/32,182.254.106.20/32,182.254.106.22/32,182.254.106.37/32,182.254.106.117/32,183.3.225.105/32,183.3.235.73/32,183.3.251.139/32,183.3.251.140/32,183.3.251.143/32,183.3.251.144/32,183.3.251.147/32,183.3.251.148/32,183.3.251.149/32,183.3.251.150/32,183.3.251.151/32,183.3.251.152/32,183.36.108.227/32,183.36.108.228/32,183.36.108.229/32,183.57.48.66/32,183.57.48.67/32,183.61.38.145/32,183.61.38.150/32,183.61.38.155/32,183.61.38.160/32,183.61.51.40/32,183.61.51.41/32,183.61.51.44/32,183.192.202.183/32,183.232.88.179/32,183.232.91.21/32,183.232.93.146/32,183.232.93.179/32,183.232.93.230/32,183.232.95.53/32,183.232.95.102/32,183.232.95.214/32,183.232.95.217/32,183.232.96.33/32,183.232.103.174/32,183.232.119.146/32,183.232.119.209/32,183.232.125.156/32,183.232.125.179/32,203.205.147.218/32,203.205.147.229/32,203.205.147.239/32,203.205.151.47/32,203.205.151.234/32,203.205.160.101/32,219.133.60.190/32,219.133.60.236/32,220.194.76.177/32,220.249.243.24/32,220.249.243.184/32,220.249.244.15/32,223.85.133.176/32 ] ) then {
        bgp_local_pref=10;
        bgp_community.add(tencent_video_gslb);
        bgp_next_hop = 103.216.40.7;
        accept;
         }
    # weixin_gslb
      if ( net ~ [ 101.226.152.108/32,103.7.31.157/32,111.30.135.151/32,120.198.203.152/32,123.151.10.172/32,125.39.247.171/32,140.207.26.16/32,163.177.86.12/32,182.254.21.82/32,182.254.78.159/32,182.254.99.144/32,182.254.114.108/32,183.60.15.188/32,183.61.56.126/32,183.192.196.38/32,203.205.129.102/32,203.205.143.141/32,203.205.146.15/32,203.205.151.164/32,203.205.161.235/32,203.205.167.188/32 ] ) then {
        bgp_local_pref=130;
        bgp_community.add(weixin_gslb);
        bgp_next_hop = 103.216.40.7;
        accept;
         }
    # # cctv_gslb
    #   if ( net ~ [  ] ) then {
    #     bgp_local_pref=130;
    #     bgp_community.add(cctv_gslb);
    #     bgp_next_hop = 103.216.40.7;
    #     accept;
    #      }

    # reject default
      reject;
  }

### Define outbound filter
filter nat2_63602_out
    int cus_as;
    pair deny_one_0_as;               #0:as
    pair send_one_1_as;               #1:as
    pair send_all_1_63602;            #1:63602

  {
    cus_as = 63602;
    send_all_1_63602 = ( 1,myas );


    # advertise cnix route
      if (in_cnix_route()) then {
        accept; 
          }

    # accept send all 1:63602
      if ( send_all_1_63602 ~ bgp_community ) then {
        accept;
          }
    # reject martians
      if  (in_martians()) then {
        reject; 
          }
    # reject default
      reject;
  }
### Define protocol  2017-06-01 - jason yang
  protocol bgp nat2_63602 from PEERS 
  {
    disabled;
    description "nat2";
    neighbor 103.216.40.7 as 63602; 
    #password "c267y5dw";
    import filter nat2_63602_in;
    export filter nat2_63602_out;
  }
